# üóÇÔ∏è –ü–ª–∞–Ω —Ä–∞–±–æ—Ç –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π)

---

## üîπ –≠–¢–ê–ü 1: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò –û–°–ù–û–í–ê –°–ò–°–¢–ï–ú–´

### ‚úÖ 1.1. `infra.py` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis/PG –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `run_safe_loop()` –∏ `debug_log()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–≥–µ—Ä (—Ü–≤–µ—Ç, —É—Ä–æ–≤–Ω–∏)

### ‚úÖ 1.2. `feed_v4_main.py` ‚Äî –∑–∞–ø—É—Å–∫ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Redis/PG
- [ ] –í—ã–∑–æ–≤ `restore_redis_from_pg(...)`
- [ ] –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `asyncio.gather(...)`

---

## üîπ –≠–¢–ê–ü 2: M1-–°–í–ï–ß–ò –ò –ê–ì–†–ï–ì–ê–¶–ò–Ø

### üì° 2.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ M1
- [ ] WebSocket-–ø–æ—Ç–æ–∫ —Å Binance
- [ ] –ó–∞–ø–∏—Å—å M1 –≤ Redis TS –∏ PG
- [ ] –ü—É–±–ª–∏–∫–∞—Ü–∏—è `ohlcv_m1_ready` –≤ Stream
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≤—Å—Ç–∞–≤–∫–∏ (idempotency)

### üîÅ 2.2. –ê–≥—Ä–µ–≥–∞—Ü–∏—è M5/M15
- [ ] –†–∞—Å—á—ë—Ç OHLCV –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
- [ ] –ó–∞–ø–∏—Å—å –≤ Redis TS –∏ PG
- [ ] –ü—É–±–ª–∏–∫–∞—Ü–∏—è `ohlcv_<tf>_ready`

---

## üîπ –≠–¢–ê–ü 3: –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï REDIS

### üõ† 3.1. `restore_redis_from_pg.py`
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 250 —Å–≤–µ—á–µ–π –∏–∑ PG
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Redis TS –∏ Hash
- [ ] –í—ã–∑–æ–≤ –∏–∑ `feed_v4_main.py` –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Å–∏—Å—Ç–µ–º—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞: Redis –æ—á–∏—â–µ–Ω ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

---

## üîπ –≠–¢–ê–ü 4: –ò–ù–î–ò–ö–ê–¢–û–†–´

### üìà 4.1. `indicators_main.py`
- [ ] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `ohlcv_<tf>_ready` (XREADGROUP)
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π + –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–µ—á–µ–π –∏–∑ Redis TS
- [ ] –†–∞—Å—á—ë—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: Redis Hash + PG + Stream
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis Hash + `indicator_values_v4`

---

## üîπ –≠–¢–ê–ü 5: –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### üßæ 5.1. `system_log_v4`
- [ ] –ó–∞–ø–∏—Å—å –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ SELECT –≤ PG
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤—ã–≤–æ–¥ –≤ Telegram/Slack

---

## üîπ –≠–¢–ê–ü 6: –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –ü–†–û–ì–û–ù

### üîÅ 6.1. –°–∫–≤–æ–∑–Ω–æ–π —Ç–µ—Å—Ç
- [ ] –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ 5‚Äì10 —Ç–∏–∫–µ—Ä–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å–≤–µ—á–∏ ‚Üí –∞–≥—Ä–µ–≥–∞—Ç—ã ‚Üí –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ‚Üí Redis ‚Üí PG
- [ ] –û—á–∏—Å—Ç–∫–∞ Redis + –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üß† –ü—Ä–∞–≤–∏–ª–∞

- ‚õî –ù–∏–∫–∞–∫–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –¥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ
- üîÅ Redis –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è **–≤—Å–µ–≥–¥–∞** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ happy path

---